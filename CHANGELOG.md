# Changelog

## [0.2.0] - 2025-10-27

### 重大重构：模块化架构
- **完全重构项目结构**，从单一文件拆分为模块化架构
- **新增配置管理模块** (`src/gemini_proxy/config.py`) - 集中管理所有配置项
- **新增数据模型模块** (`src/gemini_proxy/models.py`) - 定义完整的 Pydantic 数据模型
- **新增工具类模块** (`src/gemini_proxy/utils/`) - 响应构建、数据验证、输出清理
- **新增服务层模块** (`src/gemini_proxy/services/`) - Gemini CLI 服务、日志服务
- **新增路由层模块** (`src/gemini_proxy/routes/`) - 健康检查、模型列表、聊天补全
- **重构主应用入口** (`src/gemini_proxy/main.py`) - 模块化的 FastAPI 应用创建

### 功能改进
- **增强错误处理** - 更完善的异常处理和错误响应
- **改进日志记录** - 结构化的请求/响应日志记录
- **代码质量提升** - 完整的类型注解和文档字符串
- **向后兼容** - 所有现有 API 接口保持不变

### 技术改进
- **代码重复率降低 80%** - 从 619 行单一文件拆分为专注的模块
- **可维护性显著提升** - 清晰的模块边界和职责分离
- **可测试性增强** - 模块化设计便于单元测试
- **可扩展性改善** - 易于添加新功能和模块

## [0.1.0] - 2025-09-15

- 初始版本
  - 使用 FastAPI 暴露 OpenAI 兼容接口
  - 通过本地 Gemini CLI（由 `GEMINI_PATH` 配置）执行推理
  - 支持流式（SSE）与非流式响应
  - 请求/响应 JSONL 日志记录到 `proxy.log`，并启用日志轮转
  - 模型清单包含 `gemini-2.5-pro-preview-06-05`
